<html>
  <head>
   <style>
     div {
       width:600px;
       height:500px;
       border:2px solid black;
       content: -webkit-canvas(squares);
     }
   </style>
  <script src="../../resources/run-after-layout-and-paint.js"></script>
  <script type="application/x-javascript">
    if (window.testRunner) {
      testRunner.dumpAsTextWithPixelResults();
      testRunner.waitUntilDone();
    }
    function repaintTest()
    {
      var ctx = document.getCSSCanvasContext("2d", "squares", 300, 300);

      ctx.fillStyle = "rgb(200,0,0)";
      ctx.fillRect (10, 10, 100, 100);

      ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
      ctx.fillRect (50, 50, 100, 100);
      if (window.testRunner)
        testRunner.notifyDone();
    }
  </script>
</head>
<body onload="runAfterLayoutAndPaint(repaintTest)">
   <div></div>
</body>
</html>
