<!DOCTYPE html>
<html>
<head>
<script>
    function destroyed()
    {
        var target = document.getElementById("target");
        target.parentNode.removeChild(target);
    }

    function loaded()
    {
        if (window.testRunner) {
            testRunner.dumpAsText();
            testRunner.waitUntilDone();
        }

        document.body.offsetTop;
        location.href = "data:text/html,<head><scr" + "ipt>function loaded() { if (window.testRunner) testRunner.notifyDone(); }</scr" + "ipt></head><body onload='loaded()'>Test for rdar://problem/6937089 PASSED.</body>";
    }
</script>
<body onload="loaded()">
<p>
    Test for <i><a href="rdar://problem/6937089">rdar://problem/6937089</a> Crashes at LayoutPart::destroy()</i>.
</p>
<p>
    This test should not crash or cause an assertion failure.
</p>
<div id="target">
    <embed type="application/x-webkit-test-netscape" ondestroy="destroyed()">
</div>
</body>
</html>
